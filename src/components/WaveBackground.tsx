import React from "react";
import Svg, {
  Defs,
  LinearGradient,
  Stop,
  Path as SvgPath,
} from "react-native-svg";
import { View } from "react-native";
import { Dimensions } from "react-native";
import Animated, {
  useSharedValue,
  useAnimatedProps,
  withTiming,
  withDelay,
} from "react-native-reanimated";

export default function WavyBackground() {
  const AnimatedPath = Animated.createAnimatedComponent(SvgPath);

  const { width, height } = Dimensions.get("window");

  return (
    <View className="absolute bottom-0 left-0 right-0 z-[-1]">
      <Svg
        width={width}
        height={height}
        viewBox="0 0 1440 590"
        preserveAspectRatio="xMidYMid slice" // keeps the aspect and crops nicely
      >
        <Defs>
          <LinearGradient id="gradient" x1="100%" y1="50%" x2="0%" y2="50%">
            <Stop offset="5%" stopColor="#00d084" />
            <Stop offset="95%" stopColor="#abb8c3" />
          </LinearGradient>
        </Defs>

        {/* Path 0 */}
        <AnimatedPath
          d="M 0,600 L 0,390 C 35.6,404.4 71.2,418.8 104,415 C 136.8,411.2 166.7,389.1 199,356 C 231.3,322.9 265.9,278.7 291,255 C 316.1,231.3 331.6,228 367,204 C 402.4,180 457.7,135.2 492,91 C 526.3,46.8 539.6,3 567,-19 C 594.4,-41 635.8,-41.4 676,-52 C 716.2,-62.6 755.1,-83.6 782,-112 C 808.9,-140.4 823.8,-176.3 850,-195 C 876.2,-213.7 913.6,-215.1 954,-249 C 994.4,-282.9 1037.8,-349.3 1070,-391 C 1102.2,-432.7 1123.3,-449.8 1151,-478 C 1178.7,-506.2 1213.2,-545.7 1247,-555 C 1280.8,-564.3 1313.9,-543.5 1346,-556 C 1378.1,-568.5 1409,-614.2 1440,-660 L 1440,600 L 0,600 Z"
          fill="url(#gradient)"
          fillOpacity={0.265}
        />

        {/* Path 1 */}
        <AnimatedPath
          d="M 0,600 L 0,510 C 26.9,512.4 53.7,514.8 84,496 C 114.3,477.2 148,437 181,409 C 214,381 246.2,365 280,338 C 313.8,311 349.1,273.1 381,241 C 412.9,208.9 441.5,182.6 475,166 C 508.5,149.4 546.9,142.6 579,120 C 611.1,97.4 636.8,59.1 670,23 C 703.2,-13.1 744,-47.1 775,-49 C 806,-50.8 827.2,-20.5 853,-48 C 878.8,-75.5 909.2,-160.7 948,-193 C 986.8,-225.3 1034.2,-204.8 1066,-224 C 1097.8,-243.2 1114.2,-302.1 1141,-321 C 1167.8,-339.9 1205.2,-318.8 1241,-350 C 1276.8,-381.2 1311.1,-464.6 1344,-505 C 1376.9,-545.4 1408.5,-542.7 1440,-540 L 1440,600 L 0,600 Z"
          fill="url(#gradient)"
          fillOpacity={0.4}
        />

        {/* Path 2 */}
        <AnimatedPath
          d="M 0,600 L 0,630 C 39,622 78,614 112,603 C 146,592 174.9,577.7 201,549 C 227.1,520.3 250.4,477.1 286,446 C 321.6,414.9 369.5,396 400,388 C 430.5,380 443.6,383.1 476,372 C 508.4,360.9 560.2,335.8 590,290 C 619.8,244.2 627.7,177.7 655,143 C 682.3,108.3 729.1,105.6 767,101 C 804.9,96.4 833.7,90.1 866,62 C 898.3,33.9 933.9,-15.8 966,-62 C 998.1,-108.2 1026.7,-150.8 1061,-158 C 1095.3,-165.2 1135.3,-136.8 1166,-159 C 1196.7,-181.2 1218,-253.9 1242,-290 C 1266,-326.1 1292.6,-325.4 1326,-341 C 1359.4,-356.6 1399.7,-388.3 1440,-420 L 1440,600 L 0,600 Z"
          fill="url(#gradient)"
          fillOpacity={0.53}
        />

        {/* Path 3 */}
        <AnimatedPath
          d="M 0,600 L 0,750 C 28.3,760.6 56.6,771.3 87,750 C 117.4,728.7 150,675.4 184,641 C 218,606.6 253.6,591 290,585 C 326.4,579 363.8,582.5 395,550 C 426.2,517.5 451.2,449.1 481,428 C 510.8,406.9 545.2,433.3 577,414 C 608.8,394.7 637.9,329.7 671,286 C 704.1,242.3 741.3,220 771,190 C 800.7,160 822.9,122.4 854,110 C 885.1,97.6 925.1,110.3 963,96 C 1000.9,81.7 1036.6,40.3 1063,10 C 1089.4,-20.3 1106.7,-39.4 1139,-68 C 1171.3,-96.6 1218.8,-134.7 1252,-163 C 1285.2,-191.3 1304.1,-209.8 1333,-231 C 1361.9,-252.2 1401,-276.1 1440,-300 L 1440,600 L 0,600 Z"
          fill="url(#gradient)"
          fillOpacity={1}
        />
      </Svg>
    </View>
  );
}
